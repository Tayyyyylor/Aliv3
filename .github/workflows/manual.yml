# This is a basic workflow that is manually triggered

name: Environments

# Controls when the action will run. Workflow runs when manually triggered using the UI
# or API.
on: 

workflow_dispatch:

jobs:
  Develop:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest
    environment: Develop
    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    uses: actions/checkout@v2
    # Runs a single command using the runners shell
    - name: Run a script
      run: echo "I am running a job in Develop"

  Préproduction:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest
    environment: Préproduction
    needs: Develop
    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    uses: actions/checkout@v2
    # Runs a single command using the runners shell
    - name: Run a script
      run: echo "I am running a job in Préproduction"

  Production:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest
    environment: Production
    needs: Préproduction
    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    uses: actions/checkout@v2
    # Runs a single command using the runners shell
    - name: Run a script
      run: echo "I am running a job in Production"

